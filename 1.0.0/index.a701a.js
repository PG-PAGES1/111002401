window.__require=function t(e,n,o){function i(a,r){if(!n[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!r&&l)return l(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var p=n[a]={exports:{}};e[a][0].call(p.exports,function(t){return i(e[a][1][t]||t)},p,p.exports,t,e,n,o)}return n[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<o.length;a++)i(o[a]);return i}({Adaptive111002401:[function(t,e,n){"use strict";cc._RF.push(e,"6290bzMDGBJ9Y5twKF04vq7","Adaptive111002401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,a=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(s<3?i(a):s>3?i(e,n,a):i(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../GameEventName111002401"),r=cc._decorator,c=r.ccclass,l=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sc1=null,e.cs2=null,e.cz=null,e.logo=null,e}return i(e,t),e.prototype.onLoad=function(){game.EventManager.getInstance().raiseEvent(core.GameCoreConst.mess_openBanner,{parent:this.node.getChildByName("banner")}),game.EventManager.getInstance().addEventListener(a.EventName.EVENT_WIN_GAME,this.showChuanzhangAni,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_WIN_MORE_THAN_BET,this.playAni,this),t.prototype.resize.call(this)},e.prototype.layoutLandscape=function(){this.sc1.active=!1,this.cs2.active=!1,this.cz.active=!1,this.logo.scale=1,this.logo.setPosition(0,445,0)},e.prototype.layoutPortrait=function(){this.sc1.active=!0,this.cs2.active=!0,this.cz.active=!0,this.cz.scale=2.2,this.logo.scale=1.2,this.logo.setPosition(0,460,0)},e.prototype.showChuanzhangAni=function(t,e){e==a.WinType.wild&&this.playWildAni()},e.prototype.playAni=function(){slot.SoundMger.instance.playEffect("winPrize")},e.prototype.playWildAni=function(){console.log("palyWildAni--------------")},e.prototype.playSound=function(){console.log("\u64ad\u653e\u4e86\u4e94\u8fde\u97f3\u6548")},e.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(a.EventName.EVENT_WIN_GAME,this.showChuanzhangAni,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_WIN_MORE_THAN_BET,this.playAni,this)},s([l(cc.Node)],e.prototype,"sc1",void 0),s([l(cc.Node)],e.prototype,"cs2",void 0),s([l(cc.Node)],e.prototype,"cz",void 0),s([l(cc.Node)],e.prototype,"logo",void 0),s([c],e)}(slot.BaseView);n.default=p,cc._RF.pop()},{"../GameEventName111002401":"GameEventName111002401"}],Banner111002401:[function(t,e,n){"use strict";cc._RF.push(e,"c4766xa83dH/IBraAzxKMyM","Banner111002401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,a=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(s<3?i(a):s>3?i(e,n,a):i(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),s([r],e)}(slot.SlotBanner));n.default=c,cc._RF.pop()},{}],GameBg111002401:[function(t,e,n){"use strict";cc._RF.push(e,"597fcE2jUVAnZlW9rkQGMfA","GameBg111002401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,a=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(s<3?i(a):s>3?i(e,n,a):i(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){t.prototype.resize.call(this)},e.prototype.layoutPortrait=function(){},s([r],e)}(slot.BaseView));n.default=c,cc._RF.pop()},{}],GameEventName111002401:[function(t,e,n){"use strict";cc._RF.push(e,"ca65fGvksNAQrdlFI+FdLPW","GameEventName111002401"),Object.defineProperty(n,"__esModule",{value:!0}),n.WinType=n.EventName=void 0,function(t){t.EVENT_WIN_GAME="EVENT_WIN_GAME",t.EVENT_JACKPOT_COMPLETE="EVENT_JACKPOT_COMPLETE"}(n.EventName||(n.EventName={})),function(t){t.SuperWin="SuperWin",t.MargeWin="MargeWin",t.BigWin="BigWin",t.Lose="Lose",t.win="win",t.fiveEven="fiveEven",t.wild="wild"}(n.WinType||(n.WinType={})),cc._RF.pop()},{}],GameLayer111002401:[function(t,e,n){"use strict";cc._RF.push(e,"03dfd0k2WFPcJVsFSNgFaM+","GameLayer111002401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,a=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(s<3?i(a):s>3?i(e,n,a):i(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../GameEventName111002401"),r=t("../NumAtlasLabel111002401"),c=t("./scrollerSkins/GameLogic111002401"),l=t("./scrollerSkins/JTChildManager111002401"),p=t("./scrollerSkins/JTLayerManager111002401"),h=t("./JTOver111002401"),u=t("./JTRun111002401"),d=t("./scrollerSkins/JTScrollingPipeline111002401"),f=t("./JTCreate111002401"),y=t("./JTBegin111002401"),m=t("../main/Main111002401"),_=t("../Scrollable"),g=cc._decorator,v=g.ccclass,T=g.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.roller=null,e.jackpotNode=null,e.winNode=null,e.mlPoolNode=null,e.scrollerBg=null,e.rollerMask=null,e.mlJackpotNodes=[],e.multipleEnum={1:10,2:80,3:500},e.arrSpin_AniName={1:"bacon",2:"prawn",3:"throat",4:"stomach",5:"fishball",6:"blood",7:"mushroom",8:"lotus",9:"corn",10:"tofu",11:"enoki",12:"potato"},e.beginMLCoin=[],e.endMLCoin=[],e.arrCoin=new Array,e.jackpotBar_bg=[],e.jackpotBar_effect=[],e.isCloseBigWinAni=!1,e.winType=0,e.jackpot_num=0,e.allTimeIdle=0,e.acceleration=0,e.isCanTouch=!1,e.isRestore=!1,e.lastTouchTime=0,e.winLineCoin=0,e.isWin=!0,e.arrIdleSound={1:"Standby_vocals_1",2:"Standby_vocals_2",3:"Standby_vocals_3",4:"Standby_vocals_4",5:"Standby_vocals_5",6:"Standby_vocals_6",7:"Standby_vocals_7",8:"Standby_vocals_8",9:"Standby_vocals_9",10:"Standby_vocals_10",11:"Standby_vocals_11",12:"Standby_vocals_12",13:"Standby_vocals_13",14:"Standby_vocals_14"},e.arrWinSoundEffect={1:"The_winning_sound",2:"The_winning_sound_2",3:"The_winning_sound_3"},e.arrWinSound={1:"Voice_after_winning_the_lottery_1",2:"Voice_after_winning_the_lottery_2",3:"Voice_after_winning_the_lottery_3",4:"Voice_after_winning_the_lottery_4"},e.arrMLSound={1:"Spicy_award_vocals_1",2:"Spicy_award_vocals_2",3:"Spicy_award_vocals_3",4:"Spicy_award_vocals_4"},e.arrJackpotNumSound={1:"Chili_symbol_1",2:"Chili_symbol_2",3:"Chili_symbol_3",4:"Chili_symbol_4",5:"Chili_symbol_5",6:"Chili_symbol_6",7:"Chili_symbol_7",8:"Chili_symbol_8",9:"Chili_symbol_9"},e.rollingResult=null,e.scatterTask=null,e.wildTask=null,e.scroller=null,e.lunboHandler=new Array,e.winCount=0,e._spinAniViews=[],e}var n;return i(e,t),n=e,e.prototype.onLoad=function(){slot.SlotConfigManager.instance.registerJPTypes(3),t.prototype.onLoad.call(this),console.log("game111002401 onload----------"),this.initUI(),this.isCanTouch=!0,n.instance=this,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.SPINRESP,this.receiveData,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_PLAYER_CLICKED_SINGLE_START_BTN,this.onClickCtlBtn,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.RESTORERESP,this.restoreresp,this),window.GameLayer111002401=n},e.prototype.onKeyDown=function(){},e.prototype.onKeyUp=function(){if(console.log("this.isCanTouch------",this.isCanTouch),0!=this.lastTouchTime&&Date.parse((new Date).toString())-this.lastTouchTime<1e3)console.log("\u4f60\u70b9\u7684\u592a\u5feb\u4e86-----");else if(this.isCanTouch){var t=Date.parse((new Date).toString());this.lastTouchTime=t}},e.prototype.beforeScrollerStartRolling=function(){console.log("beforeScrollerStartRolling------------\x3e>>>");for(var t=0;t<this.jackpotNode.children.length;t++)this.jackpotNode.getChildByName("jackpot_".concat(t.toString())).active=!1,this.jackpotBar_bg[t].active=!1;this.unschedule(this.winCoinAni),this.showBanner(),this.chopsticksAni.paused=!1,this.getRandomChopsticksAni_circle(),this.isNeedChopsticksWinEndAni()},e.prototype.restoreresp=function(t,e){e&&console.log("restoreresp--------0",e)},e.prototype.onScrollerFlowComplete=function(){console.log("onScrollerFlowComplete--------"),this.isCanTouch=!0,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,this.isCanTouch)},e.prototype.playMusic=function(t,e){e?slot.SoundMger.instance.playMusic(t,e):slot.SoundMger.instance.playMusic(t,!1)},e.prototype.playEffect=function(t,e){e?slot.SoundMger.instance.playEffect(t,e):slot.SoundMger.instance.playEffect(t,!1)},e.prototype.receiveData=function(t,e){console.log("receiveData---------",e)},e.prototype.init_MLData=function(){if(this.mlPool=slot.SpinManager.instance.rollingResult.updateList[0].value.handleState.game_1110024.data.prizePoolList,this.mlPos=slot.SpinManager.instance.rollingResult.updateList[0].value.handleState.game_1110024.data.spicyPos,this.mlRewards=slot.SpinManager.instance.rollingResult.updateList[0].value.handleState.game_1110024.data.reward,console.log("\u521d\u59cb\u6570\u636e--------------",this.mlPool,this.mlPos,this.mlRewards),this.init_MLPool(this.mlPool),this.mlPos&&0!=this.mlPos.length)for(var t=0;t<9;t++)this.update_MLPos(t);this.mlRewards&&0!=this.mlRewards.length&&this.update_MLRewardAni(this.mlRewards),this.winLineCoin=Number(slot.SpinManager.instance.rollingResult.spinResult.spinCoin),this.spinResult=slot.SpinManager.instance.rollingResult.spinResult,this.lastResult=this.spinResult,this.mlPos&&(this.jackpot_num=this.mlPos.length);var e=(this.mlRewards?this.mlRewards.length:0)>0?Number(this.mlRewards[0].coin):0;this.mlWinCoin=e,this.spinCoin=this.winLineCoin+e,this.spinCoin<=0||(slot.SpinManager.instance.totalWin=this.winLineCoin+e,this.changeWin())},e.prototype.update_MLData=function(){var t=this,e=slot.SpinManager.instance.betCost;if(!(slot.PlayerManager.instance.showCoin<e)&&slot.SpinManager.instance.rollingResult){this.rollingResult=slot.SpinManager.instance.rollingResult,this.spinResult=this.rollingResult.spinResult,this.mlPool=this.rollingResult.updateList[0].value.handleState.game_1110024.data.prizePoolList,this.mlPos=this.rollingResult.updateList[0].value.handleState.game_1110024.data.spicyPos,this.mlRewards=this.rollingResult.updateList[0].value.handleState.game_1110024.data.reward,this.mlPos&&(this.jackpot_num=this.mlPos.length),this.winLineCoin=Number(this.rollingResult.spinResult.spinCoin);var n=0;this.mlRewards&&(n=this.mlRewards.length>0?Number(this.mlRewards[0].coin):0),this.mlWinCoin=n,this.spinCoin=this.winLineCoin+n,console.log("_spinCoin========",this.winLineCoin),(this.winLineCoin>0||this.mlPos&&this.mlPos.length>3)&&(this.chopsticksAni.setAnimation(0,"left_rotate",!1),this.chopsticksAni.setCompleteListener(function(){t.chopsticksAni.setCompleteListener(null),t.chopsticksAni.setAnimation(0,"left_rotate3",!0),t.chopsticksAni.paused=!0})),this.mlPos&&(this.mlPos.length<4?this.winLineCoin<=0?this.winType=0:this.winType=1:this.mlPos.length<6?this.winType=2:this.mlPos.length<9?this.winType=3:this.mlPos.length>=9&&(this.winType=4))}},e.prototype.init_MLPool=function(t){for(var e=t,n=0;n<e.length;n++){var o=Number(e[n].prizePool);console.log("mlCoin-----\x3e>>>",o),this.mlJackpotNodes[n].getComponent(_.default).initCoinValue(o),this.beginMLCoin[n]=o}},e.prototype.coinRollSpeed=function(t){return.01*(10-t)+.11+.01*Math.random()},e.prototype.update_Pool_Yanfen=function(t,e){var n=this;if(console.log("00000000000--",t,e,this.mlPool),console.log("isSucess----------\x3e>>",e),1==e){var o=slot.SpinManager.instance.betCost;console.log("betCoin-----\x3e>>",o);for(var i=function(t){var e=Number(s.mlPool[t].additionalPrizePool);console.log("\u589e\u52a0\u503c------\x3e>>>",e);var i=o*s.multipleEnum[t+1];i+=e,s.beginMLCoin[t]>i?s.mlJackpotNodes[t].getComponent(_.default).updateCoinValue(s.endMLCoin[t],i):s.mlJackpotNodes[t].getComponent(_.default).initCoinValue(i),setTimeout(function(){n.beginMLCoin[t]=i,n.endMLCoin[t]=i},0)},s=this,a=0;a<3;a++)i(a)}},e.prototype.update_MLPool=function(){var t=slot.SpinManager.instance.betCost;if(!(slot.PlayerManager.instance.showCoin<t)){var e=slot.SpinManager.instance.rollingResult.updateList[0].value.handleState.game_1110024.data.prizePoolList;this.mlPool=e;for(var n=0;n<e.length;n++){var o=Number(e[n].prizePool);o!=this.beginMLCoin[n]&&this.mlJackpotNodes[n].getComponent(_.default).updateCoinValue(this.beginMLCoin[n],o),this.endMLCoin[n]=o,this.beginMLCoin[n]=o}this.playEffect("Refresh_the_voice",!1)}},e.prototype.update_MLPos=function(t){var e,n,o,i;if(slot.SpinManager.instance.rollingResult&&slot.SpinManager.instance.rollingResult.updateList&&slot.SpinManager.instance.rollingResult.updateList[0]){var s=null===(i=null===(o=null===(n=null===(e=slot.SpinManager.instance.rollingResult.updateList[0].value)||void 0===e?void 0:e.handleState)||void 0===n?void 0:n.game_1110024)||void 0===o?void 0:o.data)||void 0===i?void 0:i.spicyPos;if(s&&(this.mlPos=s,0!=s.length))for(var a=function(e){if(Number(s[e])-1==t){var n=r.jackpotNode.getChildByName("jackpot_".concat(t.toString()));n.active=!0,n.getChildByName("hot_node").getComponent(cc.Animation).play();var o=n.getChildByName("hot"),i="textures/ui/icon/en/hot";"zh"==slot.GData.curLanguage&&(i="textures/ui/icon/zh/hot"),game.ResLoader.getInstance().loadRes(i,cc.SpriteAtlas,function(t,e){var n=e.getSpriteFrame("hot");o.getComponent(cc.Sprite).spriteFrame=n},slot.GData.bundleName)}},r=this,c=0;c<s.length;c++)a(c)}},e.prototype.showJackpotAni=function(t,e){var n=this,o=t;this.jackpotBar_effect[o].active=!0,cc.tween(this.jackpotBar_effect[o]).set({scale:1,opacity:255}).to(.04,{scale:1.15,opacity:255}).to(.04,{scale:1.3,opacity:105}).to(.04,{scale:1,opacity:0}).call(function(){if(o<n.jackpot_num){if(n.jackpotBar_bg[o].active=!0,(o=t+1)==n.jackpot_num)return e.run(),void(1==n.isRestore||n.mlRewards&&0!=n.mlRewards.length&&n.isCanOpenBigWinAni());n.showJackpotAni(o,e)}}).start()},e.prototype.handleJackpotAni=function(t,e){console.log("\u8fa3\u6912\u6570\u91cf-----------",this.jackpot_num),1==this.isRestore&&e.run(),this.spinCoin<=0&&this.showBanner(),this.playEffect(this.arrJackpotNumSound[this.jackpot_num],!1),this.jackpot_num&&0!=this.jackpot_num?this.showJackpotAni(0,e):e.run()},e.prototype.reconnect_updateMLPos=function(){var t=slot.SpinManager.instance.rollingResult.updateList[0].value.handleState.game_1110024.data.spicyPos;this.mlPos=t,t.length},e.prototype.isCanOpenBigWinAni=function(){var t=this,e=this.mlRewards;if(0!=e.length){var n=Number(e[0].coin);if(this.mlWinCoin=n,this.chopsticks.active=!1,n>0){this.unschedule(this.callBackRandom);var o=Math.ceil(4*Math.random());this.playEffect(this.arrMLSound[o],!1),this.flare.active=!1,setTimeout(function(){t.onOpenBigWinAni()},120*this.jackpot_num+400)}}},e.prototype.update_MLRewardAni=function(){var t=this.mlRewards;if(t&&0==t.length)return slot.SpinManager.instance.totalWin=slot.SpinManager.instance.totalWin,void game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,slot.SpinManager.instance.totalWin);var e=0;t&&(e=Number(t[0].coin)),this.mlWinCoin=e,slot.SpinManager.instance.totalWin=this.winLineCoin+e},e.prototype.update_AllWinCoin=function(){var t=this.mlRewards;if(0!=t.length){var e=Number(t[0].coin);this.mlWinCoin=e,slot.SpinManager.instance.totalWin=this.winLineCoin+e,console.log("\u603b\u91d1\u5e01\u6570----update_AllWinCoin-----",slot.SpinManager.instance.totalWin,this.winLineCoin),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,slot.SpinManager.instance.totalWin)}else slot.SpinManager.instance.totalWin=this.winLineCoin},e.prototype.changeWin=function(){this.isWin&&(this.isWin=!1,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,slot.SpinManager.instance.totalWin))},e.prototype.onOpenBigWinAni=function(){this.isCloseBigWinAni=!1,this.isCanTouch=!1,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,this.isCanTouch);var t=this.mlPoolNode;slot.MainView.instance.node.parent.convertToNodeSpaceAR(t.parent.convertToWorldSpaceAR(t.position)),t.removeFromParent(),t.parent=slot.MainView.instance.node,t.zIndex=600,this.mlPoolNode=t;var e=this.scrollerBg;slot.MainView.instance.node.parent.convertToNodeSpaceAR(e.parent.convertToWorldSpaceAR(e.position)),e.removeFromParent(),e.parent=slot.MainView.instance.node,e.zIndex=298,this.scrollerBg=e;var n=this.rollerMask;slot.MainView.instance.node.parent.convertToNodeSpaceAR(n.parent.convertToWorldSpaceAR(n.position)),n.parent=slot.MainView.instance.node,n.zIndex=299,this.rollerMask=n;var o=this.bigWinAni;o.active=!0,slot.MainView.instance.node.parent.convertToNodeSpaceAR(o.parent.convertToWorldSpaceAR(o.position)),o.removeFromParent(),o.parent=slot.MainView.instance.node,o.zIndex=297,this.bigWinAni=o;var i=this.winLizi;slot.MainView.instance.node.parent.convertToNodeSpaceAR(i.parent.convertToWorldSpaceAR(i.position)),i.removeFromParent(),i.parent=slot.MainView.instance.node,i.zIndex=301,this.winLizi=i},e.prototype.onCloseBigWinAni=function(){this.update_AllWinCoin(),this.chopsticks.active=!0,this.isCloseBigWinAni=!0;var t=this.mlPoolNode;this.scrollerLayer.parent.convertToNodeSpaceAR(t.parent.convertToWorldSpaceAR(t.position)),t.removeFromParent(),t.parent=this.scrollerLayer,t.zIndex=5,this.mlPoolNode=t;var e=this.bigWinAni;e.active=!1,this.scrollerLayer.parent.convertToNodeSpaceAR(e.parent.convertToWorldSpaceAR(e.position)),e.removeFromParent(),e.parent=this.scrollerLayer,e.zIndex=-1,this.bigWinAni=e;var n=this.scrollerBg;this.scrollerLayer.parent.convertToNodeSpaceAR(n.parent.convertToWorldSpaceAR(n.position)),n.removeFromParent(),n.parent=this.scrollerLayer,n.zIndex=0,this.scrollerBg=n;var o=this.rollerMask;this.scrollerLayer.parent.convertToNodeSpaceAR(o.parent.convertToWorldSpaceAR(o.position)),o.parent=this.scrollerLayer,o.zIndex=1,this.rollerMask=o,this.winLizi.active=!1;var i=slot.SpinManager.instance.rollingResult.spinResult;this.updateChopsticksWinAni(i),this.schedule(this.callBackRandom,10)},e.prototype.initUI=function(){this.scrollerLayer=this.node.getChildByName("scrollerLayer"),this.chopsticks=this.scrollerLayer.getChildByName("chopsticks"),this.chopsticksAni=this.chopsticks.getComponent(sp.Skeleton),this.bottomBg=this.scrollerLayer.getChildByName("bottomBg"),this.tounchLayer=this.scrollerLayer.getChildByName("tounchLayer"),this.bigWinAni=this.scrollerLayer.getChildByName("bigWinAni"),this.winLizi=this.scrollerLayer.getChildByName("winLizi"),this.elementMark=this.scrollerLayer.getChildByName("elementMark"),this.jackpotBar=this.scrollerLayer.getChildByName("labelUi").getChildByName("jackpot_bar");for(var t=0;t<9;t++)this.jackpotBar_bg[t]=this.jackpotBar.getChildByName("jackpot_".concat(t.toString())),this.jackpotBar_bg[t].active=!1,this.jackpotBar_effect[t]=this.jackpotBar.getChildByName("jackpot_effect_".concat(t.toString())),this.jackpotBar_effect[t].active=!1;this.banner=this.scrollerLayer.getChildByName("banner"),this.chopsticks=this.scrollerLayer.getChildByName("chopsticks"),this.bg_shout=this.banner.getChildByName("bg_shout"),this.shout=this.bg_shout.getChildByName("shout"),this.score=this.banner.getChildByName("score"),this.allWin=this.score.getChildByName("allWin"),this.win=this.score.getChildByName("win"),this.coin=this.score.getChildByName("coin"),this.flare=this.banner.getChildByName("flare"),this.bigWinAni.zIndex=-1,this.scrollerBg.zIndex=0,this.rollerMask.zIndex=1,this.winLizi.zIndex=2,this.chopsticks.zIndex=3,this.bottomBg.zIndex=4,this.mlPoolNode.zIndex=5,this.banner.zIndex=6,this.elementMark.zIndex=7,this.tounchLayer.zIndex=8},e.prototype.onDestroy=function(){this.dispose(),this.unschedule(this.callBackRandom),this.unscheduleAllCallbacks()},e.prototype.start=function(){},e.prototype.showBanner=function(){console.log("showBanner------------"),this.shout.active=!0,this.score.active=!1,this.flare.active=!1,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_START)},e.prototype.onInit=function(){slot.SpinManager.instance.isFullLineAvailable=!1,this._initSlotMachineView(),console.log("oninit")},e.prototype.onInitScroller=function(t){var e=this.scroller=t.scroller,n=slot.SlotConfigManager.instance.DataGame.getData(slot.SlotConfigManager.instance.gameID);e.setupFactory(new p.default,new l.default,new c.default),slot.JTDefaultItemRender.setPlayCoinIndex(2,7);var o=e.options(d.default,slot.JTScrollerGroup.USE_CONVERT_MROE_LIST,n.column,t.scrollingComplete);o.childOption(f.default,slot.JTOptionType.OPTION_CREATE),o.childOption(y.default,slot.JTOptionType.OPTION_BEGIN_RUNNING,t.beginScrolling),o.childOption(u.default,slot.JTOptionType.OPTION_RUNNING,t.onSpinPreStop),o.childOption(h.default,slot.JTOptionType.OPTION_OVER_RUNNING,t.scrollingProgress),e.setupDefaultItemList(this.getSourceList,slot.SlotConfigManager.instance.DataElement.getKeys(),!1),slot.JTDefaultItemRender.setPlayCoinIndex(1,7)},e.prototype._initSlotMachineView=function(){this.slotMachine.spaceX=30,this.slotMachine.spaceY=30,this.slotMachine.gridWidth=230,this.slotMachine.gridHeight=250,this.slotMachine.afterRender(this,this._rederAfter),this.slotMachine.onItemRender(this,this._onSpinSlotRender),this._registerSlotMachineAnimation()},e.prototype._rederAfter=function(){slot.SpinManager.instance.spinTouchEnable=!0,this.isRestore=!0,this.getRandomChopsticksAni_idle(),this.init_MLData(),this.schedule(this.callBackRandom,10),console.log("_rederAfter------------")},e.prototype.callBackRandom=function(){var t=Math.ceil(14*Math.random());this.playEffect(this.arrIdleSound[t],!1)},e.prototype.initSpinSet=function(){for(var t=this,e=slot.SlotMachineView._instance.scroller.renders.length,n=function(){var e=slot.SlotMachineView._instance.scroller.renders[o],n=[];switch(o){case 0:n=[1,55,-120,e.data];break;case 1:n=[1.15,30,-25,e.data];break;case 2:n=[1,55,60,e.data];break;case 3:n=[1.15,0,-100,e.data];break;case 4:n=[1.15,0,-25,e.data];break;case 5:n=[1.15,0,30,e.data];break;case 6:n=[1,-55,-120,e.data];break;case 7:n=[1.15,-30,-25,e.data];break;case 8:n=[1,-55,60,e.data]}var i=e.skinLoader;cc.tween(i).set({scale:n[0],opacity:255,x:n[1],y:n[2]}).call(function(){e.setAnimation(slot.JTGLoaderAssetType.Skeleton,t.arrSpin_AniName[n[3]])}).start()},o=0;o<e;o++)n()},e.prototype.handleTweenIn=function(t,e,n,o,i){var s=t.skinLoader,a=i||0;cc.tween(s).set({scale:e,opacity:255,x:n,y:o}).to(a,{opacity:200}).to(a,{opacity:150}).to(a,{opacity:100}).to(a,{opacity:50}).to(a,{opacity:0}).call(function(){s.opacity=255}).start()},e.prototype.handleTweenOut=function(t,e,n,o,i,s,a,r){var c=this,l=t.skinLoader,p=i,h=s||0;cc.tween(l).set({scale:e,opacity:0,x:n,y:o}).to(h,{opacity:50}).to(h,{opacity:100}).to(h,{opacity:150}).to(h,{opacity:200}).to(h,{opacity:255}).call(function(){if(a&&1==a&&t.setAnimation(slot.JTGLoaderAssetType.Skeleton,c.arrSpin_AniName[p]),8==r){var e=slot.SpinManager.instance.betCost;if(slot.PlayerManager.instance.showCoin<e)return;c.isCanOpenBigWinAni()}}).start()},e.prototype.initRenderState=function(){for(var t=slot.SlotMachineView._instance.scroller.renders.length,e=0;e<t;e++){var n=slot.SlotMachineView._instance.scroller.renders[e];switch(n.data){case 6:case 7:n.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle")}}},e.prototype.getRandomChopsticksAni_idle=function(){var t=this;this.chopsticksAni.setAnimation(0,"right_rotate2",!1),this.chopsticksAni.setCompleteListener(function(){t.chopsticksAni.setCompleteListener(null);var e=Math.ceil(9*Math.random());setTimeout(function(){t.chopsticksAni.setCompleteListener(null),t.chopsticksAni.setAnimation(0,"left_rotate",!1),t.chopsticksAni.setCompleteListener(function(){t.chopsticksAni.setCompleteListener(null);var e=Math.ceil(9*Math.random());setTimeout(function(){t.chopsticksAni.setCompleteListener(null),t.schedule(t.ChopsticksAni_idle,t.allTimeIdle)},1e3*e)})},1e3*e)})},e.prototype.ChopsticksAni_idle=function(){var t=this;this.chopsticksAni.setAnimation(0,"right_rotate2",!1),this.chopsticksAni.setCompleteListener(function(){t.chopsticksAni.setCompleteListener(null);var e=Math.ceil(9*Math.random());setTimeout(function(){t.chopsticksAni.setCompleteListener(null),t.chopsticksAni.setAnimation(0,"left_rotate",!1),t.chopsticksAni.setCompleteListener(function(){t.chopsticksAni.setCompleteListener(null);var n=Math.ceil(9*Math.random());t.allTimeIdle=e+n,setTimeout(function(){t.chopsticksAni.setCompleteListener(null)},1e3*n)})},1e3*e)})},e.prototype.getRandomChopsticksAni_circle=function(){var t=this;1==Math.ceil(10*Math.random())&&(this.chopsticksAni.setAnimation(0,"rotate",!1),this.chopsticksAni.setCompleteListener(function(){t.chopsticksAni.setCompleteListener(null),t.chopsticksAni.setAnimation(0,"right_rotate2",!1)}))},e.prototype.updateWinCoin=function(t,e){var n=this;if(1!=e){if(t<=0)return this.showBanner(),this.unschedule(this.ChopsticksAni_idle),this.chopsticksAni.setAnimation(0,"right_rotate2",!1),void this.chopsticksAni.setCompleteListener(function(){n.chopsticksAni.setCompleteListener(null),n.getRandomChopsticksAni_idle()});this.score.active=!0,this.shout.active=!1,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_STOP),this.coin.getComponent(r.default).string=slot.SlotUtils.formatNumber(t),this.allWin.scale=.7,this.coin.scale=.7,e&&null!=e||(this.winCoinAni(),this.schedule(this.winCoinAni,4,cc.macro.REPEAT_FOREVER)),this.unschedule(this.ChopsticksAni_idle),this.chopsticksAni.setAnimation(0,"left_rotate",!1),this.chopsticksAni.setCompleteListener(function(){n.chopsticksAni.setCompleteListener(null),n.getRandomChopsticksAni_idle()}),Math.ceil(3*Math.random()),this.playEffect("Winning_sound_effects",!1)}else this.showBanner()},e.prototype.winCoinAni=function(){var t=this;this.flare.active=!0;var e=this.flare.getComponent(sp.Skeleton);e.setAnimation(0,"bg_light fadein",!1),e.setCompleteListener(function(){e.setCompleteListener(null),t.flare.active=!1})},e.prototype.updateChopsticksWinAni=function(t){console.log("updateChopsticksWinAni--------",t,this.isRestore);var e=t.gridChanged,n=Number(slot.SpinManager.instance.totalWin);1==this.isRestore?this.updateWinCoin(Number(t.spinCoin)):this.updateWinCoin(n);var o=t.lineResult.length;if(0==o)return this.isCanTouch=!0,void game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,this.isCanTouch);console.log("_coin--------------",e,n,o),this.unschedule(this.callBackRandom);var i=Math.ceil(4*Math.random());this.playEffect(this.arrWinSound[i],!1);for(var s=0;s<e.length;s++)for(var a=0;a<o;a++){var r=t.lineResult[a].elementResult.elem;console.log("_elem--------",r),e[s]==r?(this.update_chopsticksAni(r,s),this.lunboAni.bind(this,s),this.lunboHandler[this.winCount]=this.lunboAni.bind(this,s),this.schedule(this.lunboHandler[this.winCount],3,cc.macro.REPEAT_FOREVER),this.winCount+=1):slot.SlotMachineView._instance.scroller.renders[s].skinLoader.active=!0}},e.prototype.updateChopsticksWinAni_restore=function(t,e){console.log("updateChopsticksWinAni_restore--------",t,e);var n=t.gridChanged,o=e;this.updateWinCoin(o,!0),this.unschedule(this.callBackRandom);var i=Math.ceil(4*Math.random());this.playEffect(this.arrWinSound[i],!1);var s=t.lineResult.length;if(0!=s){console.log("_coin--------------",n,o,s);for(var a=0;a<n.length;a++)for(var r=0;r<s;r++){var c=t.lineResult[r].elementResult.elem;console.log("_elem--------",c),n[a]==c&&(this.isCloseBigWinAni=!0,this.update_chopsticksAni(c,a),this.lunboAni.bind(this,a),this.lunboHandler[this.winCount]=this.lunboAni.bind(this,a),this.schedule(this.lunboHandler[this.winCount],3,cc.macro.REPEAT_FOREVER),this.winCount+=1)}}},e.prototype.updateChopsticksWinEndAni=function(t){var e=t.gridChanged,n=0;t&&t.lineResult&&(n=t.lineResult.length);for(var o=0;o<e.length;o++)for(var i=0;i<n;i++){var s=t.lineResult[i].elementResult.elem;e[o]==s&&(this.update_chopsticksEndAni(s,o),this.update_chopsticksEndAni_up(s,o))}},e.prototype.update_chopsticksAni=function(t,e){var n=this;if(console.log("update_chopsticksAni-----------",t,e),t&&(slot.SlotMachineView._instance.scroller.renders[e].skinLoader.active=!1,null!=e)){var o=this.winNode.getChildByName("skin_".concat(e.toString()));4==e&&o.setSiblingIndex(10),o.active=!0;var i=o.getChildByName("chopsticks_down"),s=i.getChildByName("ATTACHED_NODE_TREE").getChildByName("ATTACHED_NODE:root").getChildByName("ATTACHED_NODE:chopstick").getChildByName("ATTACHED_NODE:chopstick_zong").getChildByName("spinNode"),a=i.getComponent(sp.Skeleton),r=o.getChildByName("chopsticks_up").getComponent(sp.Skeleton),c="active_".concat(this.arrSpin_AniName[t]);game.ResLoader.getInstance().loadRes("textures/slotMachine/card/symbols",cc.SpriteAtlas,function(t,o){var i=o.getSpriteFrame(c);s.getComponent(cc.Sprite).spriteFrame=i,s.scale=n.getSpinScaleByIdx(e)},slot.GData.bundleName),this.playEffect("The_sound_of_chopsticks_picking_something_up",!1),slot.SpinManager.instance.isInTurbo?(a.timeScale=.7,r.timeScale=.7):(a.timeScale=.5,r.timeScale=.5),a.setAnimation(0,"win_fadein_down",!1),r.setAnimation(0,"win_fadein_up",!1),a.setCompleteListener(function(){a.setCompleteListener(null),a.setAnimation(0,"win_normal_down",!0),s.active=!0,n.playEffect("The_sound_of_chopsticks_catching_something",!1),n.schedule(n.callBackRandom,10)}),r.setCompleteListener(function(){r.setCompleteListener(null),r.setAnimation(0,"win_norma_up",!0),s.active=!0,n.updatePlayAnimationState()})}},e.prototype.getSpinScaleByIdx=function(t){return 1==t||3==t||7==t||9==t?.7:.85},e.prototype.playWinSound=function(){slot.SoundMger.instance.stopEffect("The_winning_sound"),this.playEffect("The_winning_sound",!1)},e.prototype.updatePlayAnimationState=function(){var t=this.mlRewards;t&&0==t.length&&(this.isCloseBigWinAni=!0)},e.prototype.update_chopsticksEndAni=function(t,e){var n=this;if(t){var o=slot.SlotMachineView._instance.scroller.renders[e];if(o.skinLoader.getChildByName("Skeleton").active=!0,null!=e){var i=this.winNode.getChildByName("skin_".concat(e.toString()));4==e&&i.setSiblingIndex(10);var s=i.getChildByName("chopsticks_down"),a=s.getChildByName("ATTACHED_NODE_TREE").getChildByName("ATTACHED_NODE:root").getChildByName("ATTACHED_NODE:chopstick").getChildByName("ATTACHED_NODE:chopstick_zong").getChildByName("spinNode"),r=s.getComponent(sp.Skeleton),c=i.getChildByName("chopsticks_up").getComponent(sp.Skeleton),l="active_".concat(this.arrSpin_AniName[t]);game.ResLoader.getInstance().loadRes("textures/slotMachine/card/symbols",cc.SpriteAtlas,function(t,o){var i=o.getSpriteFrame(l);a.getComponent(cc.Sprite).spriteFrame=i,a.scale=n.getSpinScaleByIdx(e)},slot.GData.bundleName);var p=s.getChildByName("effectNode"),h=s.getChildByName("effectNode_quan");slot.SpinManager.instance.isInTurbo?(r.timeScale=.7,c.timeScale=.7):(r.timeScale=.5,r.timeScale=.5),r.setAnimation(0,"win_fadedown_down",!1),r.setCompleteListener(function(){r.setCompleteListener(null),o.skinLoader.active=!0,a.active=!1,i.active=!1,p.active=!1,h.active=!1})}}},e.prototype.update_chopsticksEndAni_up=function(t,e){t&&null!=e&&this.winNode.getChildByName("skin_".concat(e.toString())).getChildByName("chopsticks_up").getComponent(sp.Skeleton).setAnimation(0,"win_fadedown_up",!1)},e.prototype.onClickCtlBtn=function(){this.isRestore=!1,this.isCloseBigWinAni=!1,console.log("onClickCtlBtn------------",this.endMLCoin);for(var t=0;t<this.endMLCoin.length;t++){var e=this.endMLCoin[t];this.mlJackpotNodes[t].getComponent(_.default).stopScrollShowValue(e)}for(t=0;t<this.lunboHandler.length;t++)this.unschedule(this.lunboHandler[t]);this.lunboHandler=new Array,this.winCount=0},e.prototype.lunboAni=function(){},e.prototype.isNeedChopsticksWinEndAni=function(){var t=this.lastResult;t&&this.updateChopsticksWinEndAni(t)},e.prototype.update_burlImage=function(t){var e=this;this.schedule(function(){var n=Math.ceil(12*Math.random()),o="spin_".concat(e.arrSpin_AniName[n]);game.ResLoader.getInstance().loadRes("textures/slotMachine/card/normal_symbol",cc.SpriteAtlas,function(e,n){var i=n.getSpriteFrame(o);t.skinLoader.getChildByName("Image").getComponent(cc.Sprite).spriteFrame=i,t.skinLoader.getChildByName("Image").active=!0},slot.GData.bundleName)},.2,5)},e.prototype.onOpenElementView=function(t,e,n,o,i,s){switch(this.elementMark.active=!0,n){case 0:s.x=-110,s.y=185;break;case 1:s.x=-110,s.y=0;break;case 2:s.x=-110,s.y=-185;break;case 3:s.x=-60,s.y=195;break;case 4:s.x=-60,s.y=0;break;case 5:s.x=-60,s.y=-235;break;case 6:s.x=110,s.y=195;break;case 7:s.x=110,s.y=0;break;case 8:s.x=110,s.y=-235}},e.prototype.onCloseElementView=function(){this.elementMark.active=!1},e.prototype.onWinLineLabelAni=function(t,e){if(null!=e&&null!=e){var n=e,o=n.scale;cc.tween(n).set({scale:o}).to(.05,{scale:1.3*o}).to(.05,{scale:1.6*o}).to(.05,{scale:1.9*o}).to(.03,{scale:1.6*o}).to(.03,{scale:1.3*o}).to(.03,{scale:o}).start()}},e.prototype.forUpdateWinScore=function(){},e.prototype._registerSlotMachineAnimation=function(){this.slotMachine.onContinuousNotWinAnimation(this,this._playContinuousNotWinAnimation),this.slotMachine.onNormalRewardsAnimation(this,this._playNormalRewardsAnimation),this.slotMachine.onFullLineAnimation(this,this._playFullLineAnimation),this.slotMachine.onGreatRewardsAnimation(this,this._playGreatRewardsAnimation),this.slotMachine.onMiddleRewardsAnimation(this,this._playMiddleRewardsAnimation),this.slotMachine.onSmallRewardsAnimation(this,this._playSmallRewardsAnimation),this.slotMachine.onSpinStart(this,this._onSpinStart),this.slotMachine.onSpinBegin(this,this._onSpinBegin),this.slotMachine.onSpinStop(this,this._onSpinStop),this.slotMachine.onSpinComplete(this,this._onSpinComplete)},e.prototype._onSpinStop=function(){},e.prototype._onSpinComplete=function(){for(var t=slot.SlotMachineView._instance.scroller.renders.length,e=0;e<t;e++)slot.SlotMachineView._instance.scroller.renders[e].data;this.update_MLData(),this.update_MLPool(),this.update_MLRewardAni()},e.prototype._onSpinStart=function(){this.unschedule(this._clearSpinReelAni),this._clearSpinReelAni()},e.prototype._onSpinBegin=function(){for(var t in this.isWin=!0,slot.SoundMger.instance.stopEffect("The_winning_sound"),this.jackpotBar_bg)this.jackpotBar_bg[t].active=!1,this.jackpotBar_effect[t].active=!1;1==slot.SpinManager.instance.isInAuto&&(this.unschedule(this.winCoinAni),this.showBanner(),this.chopsticksAni.paused=!1,this.getRandomChopsticksAni_circle())},e.prototype._clearSpinReelAni=function(){},e.prototype._playContinuousNotWinAnimation=function(t,e){e.run()},e.prototype._playNormalRewardsAnimation=function(t,e){console.log("_playNormalRewardsAnimation-------",this.winType,t,this.mlWinCoin),this.winType>slot.WinAniType.Normal?(this.onOpenBigWinAni(),game.UIManager.getInstance().open(m.UIID.ML_WIN_POPUP,[e,this.winType,this.mlWinCoin])):this.showWinAniView(slot.WinAniType.Normal,t,e,!0,!0),game.EventManager.getInstance().raiseEvent(a.EventName.EVENT_WIN_GAME,a.WinType.win)},e.prototype._playFullLineAnimation=function(t,e){game.EventManager.getInstance().raiseEvent(a.EventName.EVENT_WIN_GAME,a.WinType.fiveEven),e.run()},e.prototype._playGreatRewardsAnimation=function(t,e){console.log("_playGreatRewardsAnimation-------",this.winType,t,this.mlWinCoin),this.winType>slot.WinAniType.Normal?(this.onOpenBigWinAni(),game.UIManager.getInstance().open(m.UIID.ML_WIN_POPUP,[e,this.winType,this.mlWinCoin])):this.showWinAniView(slot.WinAniType.Normal,t,e,!0,!0)},e.prototype._playMiddleRewardsAnimation=function(t,e){console.log("_playMiddleRewardsAnimation-------",this.winType,t,this.mlWinCoin),this.winType>slot.WinAniType.Normal?(this.onOpenBigWinAni(),game.UIManager.getInstance().open(m.UIID.ML_WIN_POPUP,[e,this.winType,this.mlWinCoin])):this.showWinAniView(slot.WinAniType.Normal,t,e,!0,!0)},e.prototype._playSmallRewardsAnimation=function(t,e){console.log("_playSmallRewardsAnimation------",this.winType,t,this.mlWinCoin),this.winType>slot.WinAniType.Normal?(this.onOpenBigWinAni(),game.UIManager.getInstance().open(m.UIID.ML_WIN_POPUP,[e,this.winType,this.mlWinCoin])):this.showWinAniView(slot.WinAniType.Normal,t,e,!0,!0)},e.prototype._onSpinSlotRender=function(){},e.prototype.addEventListener=function(){t.prototype.addEventListener.call(this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_LINE_COST_CHANGED,this.update_Pool_Yanfen,this),game.EventManager.getInstance().addEventListener(a.EventName.EVENT_JACKPOT_COMPLETE,this.handleJackpotAni,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this.onOpenElementView,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_HIDE,this.onCloseElementView,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_WIN_LINE_COIN,this.onWinLineLabelAni,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.changeWin,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_RESET_SCROLLER,this.onScrollerUpdate,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_TRUN_COIN_VIEW_CLOSE_EXPAND,this.onCloseAmble,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ADVANCE_STOPPING_SLOT_MACHINE,this.onStopScroll,this)},e.prototype.removeEventListener=function(){t.prototype.removeEventListener.call(this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_LINE_COST_CHANGED,this.update_Pool_Yanfen,this),game.EventManager.getInstance().removeEventListener(a.EventName.EVENT_JACKPOT_COMPLETE,this.handleJackpotAni,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this.onOpenElementView,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_HIDE,this.onCloseElementView,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_WIN_LINE_COIN,this.onWinLineLabelAni,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.changeWin,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.SPINRESP,this.receiveData,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_PLAYER_CLICKED_SINGLE_START_BTN,this.onClickCtlBtn,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.RESTORERESP,this.restoreresp,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_RESET_SCROLLER,this.onScrollerUpdate,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_TRUN_COIN_VIEW_CLOSE_EXPAND,this.onCloseAmble,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_ADVANCE_STOPPING_SLOT_MACHINE,this.onStopScroll,this)},e.prototype.onInitFreeGame=function(t,e){switch(console.log("oniniffreegame",t),t.type){case slot.OperationState.Free:case slot.OperationState.ReSpin:}e.runWith(!0)},e.prototype.onFreeGameTriggered=function(t,e){switch(console.log("onFreeGameTriggered",t),t.type){case slot.OperationState.Free:case slot.OperationState.ReSpin:}e.runWith(!0)},e.prototype.addFreeSpinsAni=function(t,e,n){console.log("addFreeSpinsAni-----------"),n.run()},e.prototype.onFreeGameInfoUpdated=function(t){switch(console.log("onFreeGameInfoUpdated",t),t.type){case slot.OperationState.Free:case slot.OperationState.ReSpin:}},e.prototype.onFreeGameOver=function(t,e){switch(console.log("onFreeGameOver",t),t.type){case slot.OperationState.Free:case slot.OperationState.ReSpin:}e.runWith(!0)},e.prototype.onFreeGameTriggerAgain=function(t){switch(console.log("onFreeGameTriggerAgain",t),t.type){case slot.OperationState.Free:case slot.OperationState.ReSpin:}},e.prototype.onFreeGameTimesUpdated=function(){},e.prototype.getAllLineIndexByResult=function(){for(var t=[],e=0;e<this.spinResult.lineResult.length;e++)for(var n=this.spinResult.lineResult[e].winPos,o=0;o<n.length;o++){var i=n[o];t.push(i)}return t},e.prototype.onScrollerUpdate=function(){},e.prototype.onCloseAmble=function(){var t=this;this.scheduleOnce(function(){console.log("onCloseAmble-------\x3e>>",t.spinCoin,t.spinResult)},.5)},e.prototype.onStopScroll=function(){console.log("onStopScroll----\x3e>>>");for(var t=0;t<this.endMLCoin.length;t++){var e=this.endMLCoin[t];this.mlJackpotNodes[t].getComponent(_.default).stopScrollShowValue(e)}},e.prototype.test222222222222222=function(){this.onOpenBigWinAni(),game.UIManager.getInstance().open(m.UIID.ML_WIN_POPUP,[slot.Handler.create(this,function(){}),slot.WinAniType.Great,6e3])},e.prototype.test11111111111111111=function(){this.showWinAniView(slot.WinAniType.Small,6e3,slot.Handler.create(this,function(){}))},s([T(cc.Node)],e.prototype,"roller",void 0),s([T(cc.Node)],e.prototype,"jackpotNode",void 0),s([T(cc.Node)],e.prototype,"winNode",void 0),s([T(cc.Node)],e.prototype,"mlPoolNode",void 0),s([T(cc.Node)],e.prototype,"scrollerBg",void 0),s([T(cc.Node)],e.prototype,"rollerMask",void 0),s([T({type:[cc.Node],tooltip:"\u9ebb\u8fa3\u5956\u6c60\u8282\u70b9\u5217\u8868"})],e.prototype,"mlJackpotNodes",void 0),n=s([v],e)}(slot.AbstractMainView);n.default=C,cc._RF.pop()},{"../GameEventName111002401":"GameEventName111002401","../NumAtlasLabel111002401":"NumAtlasLabel111002401","../Scrollable":"Scrollable","../main/Main111002401":"Main111002401","./JTBegin111002401":"JTBegin111002401","./JTCreate111002401":"JTCreate111002401","./JTOver111002401":"JTOver111002401","./JTRun111002401":"JTRun111002401","./scrollerSkins/GameLogic111002401":"GameLogic111002401","./scrollerSkins/JTChildManager111002401":"JTChildManager111002401","./scrollerSkins/JTLayerManager111002401":"JTLayerManager111002401","./scrollerSkins/JTScrollingPipeline111002401":"JTScrollingPipeline111002401"}],GameLogic111002401:[function(t,e,n){"use strict";cc._RF.push(e,"96d5dbplx9C1qrlPvKX8HPy","GameLogic111002401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,a=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(s<3?i(a):s>3?i(e,n,a):i(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./JTContrlAni111002401"),r=t("./JTReward111002401"),c=cc._decorator,l=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.adjustFlowOptions=function(){this.childOption(r.default,slot.JTTaskPriority.JTCONVERT_PLAYLINES+1),this.childOption(a.default,slot.JTTaskPriority.JT3COMBO_TASK+1)},s([l],e)}(slot.JTLogicFactroy));n.default=p,cc._RF.pop()},{"./JTContrlAni111002401":"JTContrlAni111002401","./JTReward111002401":"JTReward111002401"}],JTBegin111002401:[function(t,e,n){"use strict";cc._RF.push(e,"c0a88nhuEVIy5pzolwlyYCF","JTBegin111002401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.beginRunning=function(){var t=this,e=this.scroller,n=this.owner;n.tweens=[];for(var o=0;o<e.renders.length;o++){var i=e.renders[o],s=cc.tween(i).to(.2,{opacity:0}).set({opacity:255}).start();n.tweens.push(s)}cc.tween(this).delay(.2).call(function(){t.complete()}).start()},e}(slot.JTBeginRunning);n.default=s,cc._RF.pop()},{}],JTChildManager111002401:[function(t,e,n){"use strict";cc._RF.push(e,"5719b+lJVtDfYSZeMtE0kix","JTChildManager111002401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var s=t("../SpinSlotViewExtend111002401"),a=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.registerClassAlias=function(){return this.registerClass(slot.JTChildFactory.SCROLLER_TYPE,slot.JTScroller),this.registerClass(slot.JTChildFactory.ITEMRENDER_TYPE,s.default),this.registerClass(slot.JTChildFactory.GIRD_TYPE,slot.JTSkinnableGridRender),this.registerClass(slot.JTChildFactory.SCATTER_TYPE,slot.JTScatterGridRender),this.registerClass(slot.JTChildFactory.LINE_TYPE,slot.JTSkinnableRuntimeLineAnimationRender),this},e.prototype.changedLine=function(e,n){t.prototype.changedLine.call(this,e,n)},e}(slot.JTChildFactory);n.default=a,cc._RF.pop()},{"../SpinSlotViewExtend111002401":"SpinSlotViewExtend111002401"}],JTContrlAni111002401:[function(t,e,n){"use strict";cc._RF.push(e,"f02edfKxN9Ij4UMjS+Byryv","JTContrlAni111002401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,a=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(s<3?i(a):s>3?i(e,n,a):i(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../GameEventName111002401"),r=cc._decorator,c=r.ccclass,l=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.runningTask=function(){t.prototype.runningTask.call(this),console.log("runningTask--------\u6267\u884c\u4e00\u4e9b\u64cd\u4f5c"),game.EventManager.getInstance().raiseEvent(a.EventName.EVENT_JACKPOT_COMPLETE,slot.Handler.create(this,this.complete))},e.prototype.complete=function(){t.prototype.complete.call(this)},s([c],e)}(slot.JTParseTask));n.default=l,cc._RF.pop()},{"../../GameEventName111002401":"GameEventName111002401"}],JTCreate111002401:[function(t,e,n){"use strict";cc._RF.push(e,"7bfe5NWwh9FwodGvWtNhhi8","JTCreate111002401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var s=t("./GameLayer111002401"),a=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.create=function(){var t=this._scroller,e=t.config,n=[[[55,-120],[30,-25],[55,60]],[[0,-100],[0,-25],[0,30]],[[-55,-120],[-30,-25],[-55,60]]][t.index];this.setScrollerXY(t.index*(e.gapXLandscape+e.girdWidth),0,t.index*(e.gapXPortrait+e.girdWidth),0);for(var o,i=s.default.instance,a=0;a<e.row+2;a++){var r=this.getObject(slot.JTChildFactory.ITEMRENDER_TYPE,t);if(r.y=-(a-1)*e.gapHeight-e.girdHeight/2,r.x=e.girdWidth/2,r.data=this.changedDataList[a],r.width=e.girdWidth,r.height=e.girdHeight,t.addChildItem(r),a>0&&a<e.row+1){var c=new slot.JTLayoutPoint,l=n[a-1];r.x+=l[0],r.y+=l[1],c.landscapeX=r.x,c.landscapeY=r.y,c.portraitX=r.x,c.portraitY=r.y,this.setupRender(r,c),r.scale=(void 0,1==(o=3*t.index+a)||3==o||7==o||9==o?.7:.85),r.setAnimation(slot.JTGLoaderAssetType.Skeleton,i.arrSpin_AniName[r.data],!0)}else r.active=!1;r.changedData=this.changedDataList[a]}this._dataProvider.grids.dataList=this.dataList,this.complete()},e}(slot.JTCreate);n.default=a,cc._RF.pop()},{"./GameLayer111002401":"GameLayer111002401"}],JTLayerManager111002401:[function(t,e,n){"use strict";cc._RF.push(e,"aa69cmSY1FEmpzsFRlItGKh","JTLayerManager111002401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var s=t("../GameLayer111002401"),a=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.initialize=function(t){this.addChildNode(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,t),this.addChildNode(slot.JTLayerFactory.SCROLLER_CONTAINER,t),this.addChildNode(slot.JTLayerFactory.LINE_CONTAINER,t),this.addChildNode(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,t),this.addChildNode(slot.JTLayerFactory.FRONT_FRAME_CONTAINER,t),this.addChildNode(slot.JTLayerFactory.FLASH_LINE_CONTAINER,t);var n=this.addChildNode(e.WIN_NODE_LAYER,t),o=s.default.instance.winNode,i=o.parent.convertToWorldSpaceAR(cc.v2(o.x,o.y)),a=n.convertToNodeSpaceAR(i);o.removeFromParent(),o.setPosition(a),n.addChild(o);var r=this.addChildNode(e.JACKPOT_NODE_LAYER,t),c=s.default.instance.jackpotNode;i=c.parent.convertToWorldSpaceAR(cc.v2(c.x,c.y)),a=r.convertToNodeSpaceAR(i),c.removeFromParent(),c.setPosition(a),r.addChild(c),this.addChildNode(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,t)},e.prototype.updateLayer=function(){},e.prototype.registerClassAlias=function(){return this.registerClass(slot.JTLayerFactory.FLASH_LINE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.LINE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.GIRD_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.FRONT_FRAME_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,slot.JTScrollerGroupMask),this.registerClass(slot.JTLayerFactory.LINE_MASK_TYPE,slot.JTLineMask),this.registerClass(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(e.WIN_NODE_LAYER,slot.JTGComponent),this.registerClass(e.JACKPOT_NODE_LAYER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,slot.JTGComponent),this},e.WIN_NODE_LAYER=999,e.JACKPOT_NODE_LAYER=9999,e}(slot.JTLayerFactory);n.default=a,cc._RF.pop()},{"../GameLayer111002401":"GameLayer111002401"}],JTOver111002401:[function(t,e,n){"use strict";cc._RF.push(e,"b69a24Jj7dHGr+yTQfkpHxa","JTOver111002401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var s=t("./GameLayer111002401"),a=function(t){function e(){var e=t.call(this)||this;return e._index=0,e}return i(e,t),e.prototype.clear=function(){clearTimeout(this.id)},e.prototype.overRunning=function(){var t=this,e=s.default.instance,n=this.owner,o=(slot.SlotMachineView._instance.scroller.renders.length,this._scroller);if(2==n._index){e.playEffect("Scroll_stop_sound",!1),e.isCanTouch=!1,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,!1);var i=slot.SpinManager.instance.betCost;if(slot.PlayerManager.instance.showCoin<i)return void this.complete();var a=slot.SpinManager.instance.rollingResult.updateList[0].value.handleState.game_1110024.data.reward,r=slot.SpinManager.instance.rollingResult.spinResult;if(a&&0!=a.length){var c=Number(a[0].coin);slot.SpinManager.instance.totalWin=c,console.log("\u9ebb\u8fa3\u5956\u83b7\u5f97\u7684\u91d1\u5e01\u6570---------",slot.SpinManager.instance.totalWin)}else Number(r.spinCoin)<=0&&(e.isCanTouch=!0,game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,!0));e.lastResult=r}o.adjustSkinRenders(!1),this.id=setTimeout(function(){t.complete()},0)},e}(slot.JTOverRunning);n.default=a,cc._RF.pop()},{"./GameLayer111002401":"GameLayer111002401"}],JTReward111002401:[function(t,e,n){"use strict";cc._RF.push(e,"73216DhQjFCXYfO51tD5cEd","JTReward111002401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,a=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(s<3?i(a):s>3?i(e,n,a):i(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../GameLayer111002401"),r=cc._decorator,c=r.ccclass,l=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.runningTask=function(){var t=this,e=a.default.instance,n=slot.SpinManager.instance.rollingResult.spinResult;e.lastResult=n;for(var o=0;o<9;o++)e.update_MLPos(o);n&&n.lineResult&&n.lineResult.length>0?1==e.isRestore?(e.updateChopsticksWinAni(n),setTimeout(function(){t.complete()},100)):e.winType<2?(e.updateChopsticksWinAni(n),setTimeout(function(){t.complete()},100)):setTimeout(function(){t.complete()},100):this.complete()},s([c],e)}(slot.JTParseTask));n.default=l,cc._RF.pop()},{"../GameLayer111002401":"GameLayer111002401"}],JTRun111002401:[function(t,e,n){"use strict";cc._RF.push(e,"71a2aMNn7NAeaaZ3lqg3Mut","JTRun111002401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var s=t("./GameLayer111002401"),a=t("./SpinSlotViewExtend111002401"),r=function(t){function e(){var e=t.call(this)||this;return e.timer=cc.director.getScheduler(),e.changedTimes=0,e.needChangeTimes=0,e.timer=cc.director.getScheduler(),e}return i(e,t),e.prototype.clear=function(){clearTimeout(this.id),this.timer.unschedule(this.onRunningInterval,this)},e.prototype.dataStandby=function(){t.prototype.dataStandby.call(this)},e.prototype.running=function(){slot.SpinManager.instance.isInTurbo?this.needChangeTimes=2:this.needChangeTimes=5,this.changedTimes=0,this.onRunningInterval(),this.timer.schedule(this.onRunningInterval,this,.2)},e.prototype.onRunningInterval=function(){var t=this.scroller;if(this.isDataReady&&this.changedTimes++,this.changedTimes>=this.needChangeTimes)return this.timer.unschedule(this.onRunningInterval,this),void this.complete();for(var e=0;e<t.renders.length;e++){var n=t.renders[e],o=Math.ceil(12*Math.random());n.data=o,n.gotoAndStop(a.default.STATE_ROLLING),cc.tween(n).set({opacity:0}).to(.15,{opacity:255}).start()}},e.prototype.complete=function(){var e=this.scroller,n=s.default.instance;this._owner.lineTimeComplete();for(var o=0;o<e.renders.length;o++){var i=e.renders[o];i.setAnimation(slot.JTGLoaderAssetType.Skeleton,n.arrSpin_AniName[i.data],!0)}t.prototype.complete.call(this)},e}(slot.JTRunning);n.default=r,cc._RF.pop()},{"./GameLayer111002401":"GameLayer111002401","./SpinSlotViewExtend111002401":"SpinSlotViewExtend111002401"}],JTScrollingPipeline111002401:[function(t,e,n){"use strict";cc._RF.push(e,"1c67b/rqjtBiJDUXZTsRq6y","JTScrollingPipeline111002401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,a=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(s<3?i(a):s>3?i(e,n,a):i(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../GameLayer111002401"),r=cc._decorator,c=r.ccclass,l=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tweens=[],e}return i(e,t),e.prototype.updateRenders=function(){var t=this._scroller;this.lineTimeComplete();for(var e=a.default.instance,n=0,o=this.tweens;n<o.length;n++)o[n].stop();this.tweens=[];for(var i=0;i<t.renders.length;i++){var s=t.renders[i];cc.Tween.stopAllByTarget(s),s.opacity=255,s.setAnimation(slot.JTGLoaderAssetType.Skeleton,e.arrSpin_AniName[s.data],!0)}},e.prototype.updateRenderPosition=function(){},e.prototype.resetRenderPoints=function(){},e.prototype.lineTimeComplete=function(t){void 0===t&&(t=!1);for(var e=this._scroller,n=0;n<e.items.length;n++){var o=e.items[n];o.data=t?e.changedDataList[n]:e.dataList[n],o.changedData=e.changedDataList[n]}e.adjustSkinRenders(!1)},s([c],e)}(slot.JTScrollingPipeline));n.default=l,cc._RF.pop()},{"../GameLayer111002401":"GameLayer111002401"}],LanguageInfo111002401:[function(t,e,n){"use strict";cc._RF.push(e,"a7534kriytEJZ/5P6CpM60F","LanguageInfo111002401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,a=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(s<3?i(a):s>3?i(e,n,a):i(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},s([r],e)}(slot.LanguageInfoBase));n.default=c,cc._RF.pop()},{}],MLManager111002401:[function(t,e,n){"use strict";cc._RF.push(e,"bb72fv03H9Nsp2cGDzEkaES","MLManager111002401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,a=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(s<3?i(a):s>3?i(e,n,a):i(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../NumAtlasLabel111002401"),r=t("./GameLayer111002401"),c=cc._decorator,l=c.ccclass,p=(c.menu,c.property),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.winCoinLabel=null,e.winTextLayer=null,e.aniLayer=null,e.getBtn=null,e.touchLayer=null,e.winNumTweenAniStepTimes=[2,4,6],e.deltaMoney=0,e.touchEnabled=!1,e.isLabelTween=!1,e.acceleration=0,e.money=0,e._curMoney=0,e.winType=slot.WinAniType.Small,e.callBack=null,e.coinLabelTween=null,e.winTextTeen=null,e.winTextMap=null,e}var n;return i(e,t),n=e,e.prototype.onLoad=function(){console.log("MLManager111002401--------\x3e>>"),this.touchLayer.on("touchstart",this.onTouch,this),this.loadResource(),n.instance=this},e.prototype.onOpen=function(t){for(var e=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];console.log("fromUI-----\x3e>>",t,n),this.callBack=n[0][0],this.winType=n[0][1],this.money=n[0][2],this.winCoinLabel.getComponent(a.default).string="",slot.SoundMger.instance.playEffect("Prize_All",!0),this.aniLayer.active=!0,this.scheduleOnce(function(){e.touchEnabled=!0},.5),this.scheduleOnce(function(){e.playWinText(slot.WinAniType.Small),e.winType==slot.WinAniType.Middle?e.scheduleOnce(function(){e.playWinText(slot.WinAniType.Middle)},2):e.winType==slot.WinAniType.Great&&e.scheduleOnce(function(){e.playWinText(slot.WinAniType.Middle),e.scheduleOnce(function(){e.playWinText(slot.WinAniType.Great)},4)},2),e.deltaMoney=(.11+.01*Math.random())*slot.SpinManager.instance.betCost,e.acceleration=0,e.isLabelTween=!0,e.addMoneyRise(e.winCoinLabel.getComponent(a.default),0,e.money,e.winNumTweenAniStepTimes[e.winType-2],function(){e.numberTweenComplete()})},.1)},e.prototype.onClose=function(){t.prototype.onClose&&t.prototype.onClose.call(this)},e.prototype.loadResource=function(){var t=this;this.winTextMap=new slot.SDictionary;for(var e=function(e){var n,o="smokin_hot";switch(e){case 2:o="smokin_hot",n=slot.WinAniType.Small;break;case 3:o="flamin_hot",n=slot.WinAniType.Middle;break;case 4:o="ultra_hot",n=slot.WinAniType.Great}var i="textures/bigwin/&/jackpot_player";i=i.replace("&",slot.GData.curLanguage),game.ResLoader.getInstance().loadRes(i,cc.SpriteAtlas,function(e,i){if(e)return e;var s=new cc.Node;s.active=!1,s.name=o,s.addComponent(cc.Sprite).spriteFrame=i.getSpriteFrame(o),t.winTextMap.set(n,s),t.winTextLayer.addChild(s)},slot.GData.bundleName)},n=slot.WinAniType.Small;n<=slot.WinAniType.Great;n++)e(n)},e.prototype.onTouch=function(){this.touchEnabled&&this.isLabelTween&&this.playLastAnimation()},e.prototype.playLastAnimation=function(){this.winTextTeen&&(this.winTextTeen.stop(),this.winTextTeen=null);for(var t=this.winTextMap.get(this.winType),e=0,n=this.winTextLayer.children;e<n.length;e++){var o=n[e];o==t?t.active=!0:o.active=!1}this.unscheduleAllCallbacks(),this.coinLabelTween&&(this.coinLabelTween.stop(),this.coinLabelTween=null),this.touchEnabled=!1,this.isLabelTween=!1,this.winCoinLabel.active=!0,this.winCoinLabel.getComponent(a.default).string=slot.SlotUtils.formatNumber(this.money),this.numberTweenComplete(!0)},e.prototype.onClickGetBtn=function(){this.hide()},e.prototype.numberTweenComplete=function(){var t=this;cc.Tween.stopAllByTag(100231452),slot.SoundMger.instance.stopEffect("Prize_All"),slot.SoundMger.instance.playEffect("Prize_All_Stop",!0),cc.tween(this.winCoinLabel).set({scale:1}).to(.2,{scale:2}).to(.05,{scale:1}).start(),this.getBtn.active=!0,this.getBtn.on("click",this.onClickGetBtn,this);var e=r.default.instance.winLizi,n=e.getComponent(cc.ParticleSystem);1==n.stopped&&(n.resetSystem(),e.active=!0),this.touchEnabled=!1,this.aniLayer.active=!1,this.scheduleOnce(function(){t.hide()},2)},e.prototype.playWinText=function(t){if(this.winTextTeen){this.winTextTeen.stop(),this.winTextTeen=null;var e=this.winTextMap.get(t-1);e&&(e.active=!1)}var n=this.winTextMap.get(t);n&&(n.active=!0,this.winTextTeen=cc.tween(n).set({scale:.2}).to(.25,{scale:1.2}).to(.05,{scale:1}).start())},e.prototype.hideAniAndText=function(){for(var t=0,e=this.winTextLayer.children;t<e.length;t++)e[t].active=!1},Object.defineProperty(e.prototype,"curMoney",{get:function(){return this._curMoney},set:function(t){this._curMoney=t,this.winCoinLabel.active=t>0,this.winCoinLabel.getComponent(a.default).string=slot.SlotUtils.formatNumber(t)},enumerable:!1,configurable:!0}),e.prototype.hide=function(){if(cc.Tween.stopAllByTag(100231452),slot.SoundMger.instance.stopEffect("Prize_All_Stop"),this.touchEnabled=!1,r.default.instance.onCloseBigWinAni(),this.getBtn.off("click",this.onClickGetBtn,this),this.getBtn.active=!1,this.isLabelTween=!1,this._curMoney=0,this.winCoinLabel.getComponent(a.default).string="",this.hideAniAndText(),this.unscheduleAllCallbacks(),this.winTextTeen&&(this.winTextTeen.stop(),this.winTextTeen=null),this.coinLabelTween&&(this.coinLabelTween.stop(),this.coinLabelTween=null),this.callBack){var t=this.callBack;this.callBack=null,t.run()}game.UIManager.getInstance().close(this)},e.prototype.addMoneyRise=function(t,e,n,o,i){cc.tween({num:e}).to(o,{num:n},{progress:function(e,n,o,i){var s=e+(n-e)*i;t.string=slot.SlotUtils.formatNumber(s)}}).call(function(){i&&i()}).tag(100231452).start()},s([p({type:cc.Node,tooltip:"\u91d1\u5e01\u6570\u5b57\u8282\u70b9"})],e.prototype,"winCoinLabel",void 0),s([p({type:cc.Node,tooltip:"\u6587\u672c\u8282\u70b9"})],e.prototype,"winTextLayer",void 0),s([p({type:cc.Node,tooltip:"\u7c92\u5b50\u8282\u70b9"})],e.prototype,"aniLayer",void 0),s([p({type:cc.Node,tooltip:"\u9886\u5956\u8282\u70b9"})],e.prototype,"getBtn",void 0),s([p({type:cc.Node,tooltip:"\u89e6\u6478\u8282\u70b9"})],e.prototype,"touchLayer",void 0),n=s([l],e)}(game.UIView);n.default=h,cc._RF.pop()},{"../NumAtlasLabel111002401":"NumAtlasLabel111002401","./GameLayer111002401":"GameLayer111002401"}],Main111002401:[function(t,e,n){"use strict";cc._RF.push(e,"57d00zdnbpIl73C/PZZzTrK","Main111002401");var o,i,s=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,a=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(s<3?i(a):s>3?i(e,n,a):i(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.UICF=n.UIID=void 0;var r,c=cc._decorator,l=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),game.BaseUIConf.getInstance().mergeUIConf(n.UICF);var e=game.BaseUIConf.getInstance().getUICF();game.UIManager.getInstance().initUIConf(e),console.log("Main111002401>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>")},a([l],e)}(slot.MainView));n.default=p,function(t){t[t.ML_WIN_POPUP=1e4]="ML_WIN_POPUP"}(r=n.UIID||(n.UIID={})),n.UICF=((i={})[r.ML_WIN_POPUP]={bundleName:"game_111002401",path:"prefabs/slotMachine/mlWinAni",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!1,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},i),cc._RF.pop()},{}],NumAtlasLabel111002401:[function(t,e,n){"use strict";cc._RF.push(e,"0452atpXL1HG41C7ZUyJq7w","NumAtlasLabel111002401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,a=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(s<3?i(a):s>3?i(e,n,a):i(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){},s([r],e)}(slot.CommonNumAtlasBase));n.default=c,cc._RF.pop()},{}],ParticleSpriteFramesRefresh:[function(t,e,n){"use strict";cc._RF.push(e,"a7263RsCwtHULA3uwnHF7iY","ParticleSpriteFramesRefresh");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,a=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(s<3?i(a):s>3?i(e,n,a):i(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atlas=null,e.aniFps=15,e.ps=null,e.index=0,e.count=0,e.spriteArray=[],e}return i(e,t),e.prototype.onLoad=function(){this.ps||(this.ps=this.node.getComponent(cc.ParticleSystem)),this.spriteArray=this.atlas.getSpriteFrames(),this.count=this.spriteArray.length,this.schedule(this.refreshSprite,1/this.aniFps,cc.macro.REPEAT_FOREVER)},e.prototype.refreshSprite=function(){this.index>=this.count&&(this.index=0),this.ps.spriteFrame=this.spriteArray[this.index],this.index++},s([c({type:cc.SpriteAtlas,tooltip:"\u56fe\u96c6\u8d44\u6e90"})],e.prototype,"atlas",void 0),s([c({type:cc.Integer,tooltip:"\u6bcf\u79d2\u66ff\u6362\u7c92\u5b50\u8d34\u56fe\u591a\u5c11\u6b21"})],e.prototype,"aniFps",void 0),s([r],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],Scrollable:[function(t,e,n){"use strict";cc._RF.push(e,"1cbce0FswBPOZj2Ckg3pB43","Scrollable");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,o){var i,s=arguments.length,a=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(s<3?i(a):s>3?i(e,n,a):i(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollNodes=null,e.separator=[],e.intrvalTime=[1.5,1.8,1.9,2,2.1,2.2,2.3,2.4,2.5,2.6,2.7,2.8,2.9,3,3.5],e.maxValue=9,e.minValue=0,e.end90PosY=33,e}var n;return i(e,t),n=e,e.prototype.onLoad=function(){console.log("Scrollable--------onLoad>>>"),n._instance=this},e.prototype.onDestroy=function(){},e.prototype.getScrollTimeByNum=function(t,e,n){return this.intrvalTime[n],-1==t?[this.intrvalTime[n]]:e-t>this.minValue?[this.intrvalTime[n]]:e-t==this.minValue?e==this.minValue?[this.intrvalTime[n]]:e==this.maxValue?[.1*this.intrvalTime[n],this.maxValue/10*this.intrvalTime[n]]:[(this.maxValue-t+1)/10*this.intrvalTime[n],e/10*this.intrvalTime[n]]:e==this.minValue?[(this.maxValue-t+1)/(10-t)*this.intrvalTime[n]]:[(this.maxValue-t+1)/(e-t+10)*this.intrvalTime[n],e/(e-t+10)*this.intrvalTime[n]]},e.prototype.getScrollType=function(t,e){return-1==t?0:e-t>0?1:e-t==0?0==e?6:9==e?5:4:0==e?3:2},e.prototype.initCoinValue=function(t){console.log("\u521d\u59cb\u5316\u91d1\u5e01-----\x3e>>",t);var e=String(t).length;this.updateSign(e),this.showCoinValue(t,e)},e.prototype.stopScrollShowValue=function(t){console.log("\u7acb\u5373\u505c\u6b62\u6eda\u52a8------\x3e>>",t);var e=String(t).length;this.updateSign(e),this.showLastValue(t,e)},e.prototype.updateCoinValue=function(t,e){var n=this;console.log("\u66f4\u65b0\u91d1\u5e01-------\x3e>>",t,e);var o=String(t).length,i=String(e).length;if(o==i)if(t>e)this.updateSign(i),this.showCoinValue(e,String(e).length);else for(var s=function(s){var r=a.scrollNodes.getChildByName("scroller".concat(String(s+1)));r.active=!0;var c=Number(String(e).slice(i-(s+1),i-s)),l=Number(String(t).slice(o-(s+1),o-s));if(1==a.judgeIsScroll(t,e,s+1))return{value:void 0};var p=a.getScrollType(l,c),h=a.getScrollTimeByNum(l,c,s),u=0,d=0;1==p?(u=a.getPosByNum(c),r.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,u),h[0],!0)):2==p?(u=a.getPosByNum(10,p),d=a.getPosByNum(c),r.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,u),h[0],!1),setTimeout(function(){r.getComponent(cc.ScrollView).setContentPosition(cc.v2(0,n.end90PosY)),r.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,d),h[1],!1)},1e3*h[0])):3==p?(u=a.getPosByNum(10,p),r.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,u),h[0],!0),setTimeout(function(){r.getComponent(cc.ScrollView).setContentPosition(cc.v2(0,n.end90PosY))},1e3*h[0])):4==p?(u=a.getPosByNum(10,p),d=a.getPosByNum(c),r.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,u),h[0],!1),setTimeout(function(){r.getComponent(cc.ScrollView).setContentPosition(cc.v2(0,n.end90PosY)),r.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,d),h[1],!1)},1e3*h[0])):5==p?(u=a.getPosByNum(10,p),d=a.getPosByNum(c),r.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,u),h[0],!1),setTimeout(function(){r.getComponent(cc.ScrollView).setContentPosition(cc.v2(0,n.end90PosY)),r.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,d),h[1],!0)},1e3*h[0])):6==p&&(u=a.getPosByNum(10,p),r.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,u),h[0],!0),setTimeout(function(){r.getComponent(cc.ScrollView).setContentPosition(cc.v2(0,n.end90PosY))},1e3*h[0]))},a=this,r=0;r<o;r++){var c=s(r);if("object"==typeof c)return c.value}else if(i>o){var l=function(s){var a=p.scrollNodes.getChildByName("scroller".concat(String(s+1)));a.active=!0;var r=Number(String(e).slice(i-(s+1),i-s)),c=s>=o?-1:Number(String(t).slice(o-(s+1),o-s));if(1==p.judgeIsScroll(t,e,s+1))return{value:void 0};var l=p.getScrollType(c,r),h=p.getScrollTimeByNum(c,r,s),u=0,d=0;0==l?(u=p.getPosByNum(r),s>=o&&(p.judgeSignIsShow(s),p.judgeCurPointIsShow(s)),a.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,u),h[0],!0)):1==l?(u=p.getPosByNum(r),a.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,u),h[0],!0)):2==l?(u=p.getPosByNum(10,l),d=p.getPosByNum(r),a.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,u),h[0],!1),setTimeout(function(){a.getComponent(cc.ScrollView).setContentPosition(cc.v2(0,n.end90PosY)),a.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,d),h[1],!1)},1e3*h[0])):3==l?(u=p.getPosByNum(10,l),a.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,u),h[0],!0),setTimeout(function(){a.getComponent(cc.ScrollView).setContentPosition(cc.v2(0,n.end90PosY))},1e3*h[0])):4==l?(u=p.getPosByNum(10,l),d=p.getPosByNum(r),a.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,u),h[0],!1),setTimeout(function(){a.getComponent(cc.ScrollView).setContentPosition(cc.v2(0,n.end90PosY)),a.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,d),h[1],!1)},1e3*h[0])):5==l?(u=p.getPosByNum(10,l),d=p.getPosByNum(r),a.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,u),h[0],!1),setTimeout(function(){a.getComponent(cc.ScrollView).setContentPosition(cc.v2(0,n.end90PosY)),a.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,d),h[1],!0)},1e3*h[0])):6==l&&(u=p.getPosByNum(10,l),a.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,u),h[0],!0),setTimeout(function(){a.getComponent(cc.ScrollView).setContentPosition(cc.v2(0,n.end90PosY))},1e3*h[0]))},p=this;for(r=0;r<i;r++){var h=l(r);if("object"==typeof h)return h.value}}else for(this.updateSign(i),this.showCoinValue(e,String(e).length),r=i+1;r<=o;r++)this.judgeCurPointIsShow(r,!0)},e.prototype.judgeIsScroll=function(t,e,n){var o=!1,i=String(t).slice(0,String(t).length-n+1),s=String(e).slice(0,String(e).length-n+1);return Number(i)==Number(s)&&(o=!0),o},e.prototype.tranSignIdxByPointIdx=function(t){var e=-1;switch(t){case 3:e=0;break;case 6:e=1;break;case 9:e=2;break;case 12:e=3;break;case 15:e=4;break;default:e=-1}return e},e.prototype.judgeSignIsShow=function(t){var e=this.tranSignIdxByPointIdx(t);if(-1!=e)for(var n=0;n<this.separator.length;n++)this.setSign(n,this.separator[n]),this.separator[n].active=e>=n},e.prototype.setSign=function(t,e){var n,o=slot.ReplaceFactory.changeSecimalAndThounsands();n=0==t?o?",":".":o?".":",",e&&e.getComponent(cc.Label)&&(e.getComponent(cc.Label).string=n)},e.prototype.judgeCurPointIsShow=function(t,e){this.scrollNodes.getChildByName("scroller".concat(String(t))).active=!e||1!=e},e.prototype.updateSign=function(t){var e=this,n=function(t){if(t)for(n=0;n<e.separator.length;n++)e.setSign(n,e.separator[n]),e.separator[n].active=n<t;else for(var n=0;n<e.separator.length;n++)e.separator[n].active=!1};t<=2?n():t>2&&t<=5?n(1):t>5&&t<=8?n(2):t>8&&t<=11?n(3):t>11&&t<=14?n(4):t>14&&t<=17&&n(5)},e.prototype.showCoinValue=function(t,e){for(var n=0;n<e;n++){var o=this.scrollNodes.getChildByName("scroller".concat(String(n+1)));o.active=!0;var i=this.getPosByNum(Number(String(t).slice(e-(n+1),e-n)));o.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,i),0,!0)}},e.prototype.showLastValue=function(t,e){for(var n=0;n<e;n++){var o=this.scrollNodes.getChildByName("scroller".concat(String(n+1)));o.active=!0,o.getComponent(cc.ScrollView).stopAutoScroll();var i=this.getPosByNum(Number(String(t).slice(e-(n+1),e-n)));o.getComponent(cc.ScrollView).scrollToOffset(cc.v2(0,i))}},e.prototype.getPosByNum=function(t,e){return!e||2!=e&&3!=e&&4!=e&&5!=e&&6!=e||0==t&&(t=10),9==t?82*t+5:0==t||1==t?82*t+0:2==t||4==t?82*t+1:3==t?82*t+2:6==t||8==t||10==t?82*t+4:82*t+3},s([c({type:cc.Node,tooltip:"\u6eda\u52a8\u5217\u8868\u7236\u8282\u70b9"})],e.prototype,"scrollNodes",void 0),s([c({type:[cc.Node],tooltip:"\u5206\u5272\u7b26\u5217\u8868"})],e.prototype,"separator",void 0),n=s([r],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],SpinSlotViewExtend111002401:[function(t,e,n){"use strict";cc._RF.push(e,"32be0vc0edONqUu4Uh58X3x","SpinSlotViewExtend111002401");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var s=t("./GameLayer111002401"),a=function(t){function e(){var e=t.call(this)||this;return e._slotFrameAniView=null,e._slotFrameAniViewSign="___SLOT_FRAME_ANI_VIEW_SIGN",e.isBlur=!0,e.isFade=!0,e.isFadeMask=!1,e.skinLoader.skeletonNode.scale=.7,e}return i(e,t),e.prototype.onPlayAnimation=function(t,e,n){this.update_winInfo(n)},e.prototype.update_winInfo=function(t){s.default.instance.winType<2&&void 0!==t&&this.playWinLineAni(t)},e.prototype.playWinLineAni=function(t){var e=s.default.instance.winNode.getChildByName("skin_".concat(t.toString()));4==t&&(e.zIndex=10);var n=e.getChildByName("chopsticks_down"),o=n.getChildByName("ATTACHED_NODE_TREE").getChildByName("ATTACHED_NODE:root").getChildByName("ATTACHED_NODE:chopstick").getChildByName("ATTACHED_NODE:chopstick_zong").getChildByName("spinNode"),i=n.getChildByName("effectNode"),a=n.getChildByName("effectNode_quan");i.active=!0,a.active=!0,a.getComponent(sp.Skeleton).timeScale=.7;var r=i.getComponent(sp.Skeleton),c=a.getComponent(sp.Skeleton);r.setAnimation(0,"tofu",!1),c.setAnimation(0,"tofu2",!1),cc.tween(o).to(.3,{scale:1}).to(.1,{scale:.85}).start()},e.prototype.onStopAnimation=function(){this._recoverSlotFrameAniView()},e.prototype.onPlayRewardsAnimation=function(){},e.prototype.onStopRewardsAnimation=function(){e._rewardsView&&e._rewardsView.removeFromParent()},e.prototype._showFrameAniView=function(t,e){this._slotFrameAniView||(this._slotFrameAniView=this._getSlotFrameAniView()),this._slotFrameAniView.active=!0,t.addEffect(this._slotFrameAniView,e,!1,cc.v2(0,100))},e.prototype._getSlotFrameAniView=function(){if(this._slotFrameAniView)return this._slotFrameAniView;this._slotFrameAniView=new cc.Node,this._slotFrameAniView.setScale(.8,.8);var t=this._slotFrameAniView.addComponent(slot.AnimationExtend),e=new slot.AniParam(slot.ANIMATION_TYPE.SKELETON,"skeleton/win/zhongjiang","game_111002401","animation");return t.init(e),s.default.instance.schedule(function(){t.play("animation",!1)},3,cc.macro.REPEAT_FOREVER),this._slotFrameAniView},e.prototype._recoverSlotFrameAniView=function(){this._slotFrameAniView&&(this._slotFrameAniView.removeFromParent(),this._slotFrameAniView.active=!1,this._slotFrameAniView=null)},e.prototype._getRewardsAnimation=function(){},Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){if(null!=t){if(this._data==t&&t)return this.reset(),void this.gotoAndStop(0);if(this._data=t,this._data="number"!=typeof t?t.element:t,0==this._data)return this.skinLoader.url=null,this.reset(),void(this.currentFrame=0);this.setIcon,this.reset(),this.currentFrame=0}},enumerable:!1,configurable:!0}),e.prototype.gotoAndStop=function(n){n!=e.STATE_OVER&&t.prototype.gotoAndStop.call(this,e.STATE_ROLLING)},e._rewardsView=null,e}(slot.SpinSlotView);n.default=a,cc._RF.pop()},{"./GameLayer111002401":"GameLayer111002401"}]},{},["GameEventName111002401","NumAtlasLabel111002401","ParticleSpriteFramesRefresh","Scrollable","GameBg111002401","LanguageInfo111002401","Main111002401","Adaptive111002401","Banner111002401","GameLayer111002401","JTBegin111002401","JTCreate111002401","JTOver111002401","JTRun111002401","MLManager111002401","SpinSlotViewExtend111002401","GameLogic111002401","JTChildManager111002401","JTContrlAni111002401","JTLayerManager111002401","JTReward111002401","JTScrollingPipeline111002401"]);